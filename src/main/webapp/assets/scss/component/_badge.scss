/* 배지 */
//사이즈 정의
@mixin badge-size-variable() {
	--krds-badge--size-height: var(--krds-size-height-4);
	--krds-badge--line-height: 2.4rem;
	--krds-badge--padding: var(--krds-padding-3);
	--krds-badge--radius: var(--krds-radius-max);
	--krds-badge--radius-max: var(--krds-radius-max);
	--krds-badge--dot-size: 0.6rem;
	--krds-badge--dot-padding: 0;
	--krds-badge--number-size-height: var(--krds-size-height-3);
	--krds-badge--pc-font-size: var(--krds-pc-font-size-label-xsmall);
	--krds-badge--mobile-font-size: var(--krds-mobile-font-size-label-small);
	--krds-badge--pc-font-size-large: var(--krds-pc-font-size-label-medium);
	--krds-badge--mobile-font-size-large: var(--krds-mobile-font-size-label-medium);
	--krds-badge--size-height-large: var(--krds-size-height-5);
}
//컬러 정의
@mixin badge-color-variable($mode) {
	//컬러 변수 배열 생성
	$badge-color-variable: (
		primary: (
			element: var(--krds-#{$mode}-color-element-primary),
			element-lighter: var(--krds-#{$mode}-color-element-primary-lighter),
			border-light: var(--krds-#{$mode}-color-border-primary-light),
			text: var(--krds-#{$mode}-color-text-primary)
		),
		secondary: (
			element: var(--krds-#{$mode}-color-element-secondary),
			element-lighter: var(--krds-#{$mode}-color-element-secondary-lighter),
			border-light: var(--krds-#{$mode}-color-border-secondary-light),
			text: var(--krds-#{$mode}-color-text-secondary)
		),
		gray: (
			element: var(--krds-#{$mode}-color-element-gray),
			element-lighter: var(--krds-#{$mode}-color-element-gray-light),
			border-light: var(--krds-#{$mode}-color-border-gray-light),
			text: var(--krds-#{$mode}-color-text-subtle)
		),
		point: (
			element: var(--krds-#{$mode}-color-element-point),
			element-lighter: var(--krds-#{$mode}-color-element-point-lighter),
			border-light: var(--krds-#{$mode}-color-border-point-light),
			text: var(--krds-#{$mode}-color-text-point)
		),
		danger: (
			element: var(--krds-#{$mode}-color-element-danger),
			element-lighter: var(--krds-#{$mode}-color-element-danger-lighter),
			border-light: var(--krds-#{$mode}-color-border-danger-light),
			text: var(--krds-#{$mode}-color-text-danger)
		),
		warning: (
			element: var(--krds-#{$mode}-color-element-warning),
			element-lighter: var(--krds-#{$mode}-color-element-warning-lighter),
			border-light: var(--krds-#{$mode}-color-border-warning-light),
			text: var(--krds-#{$mode}-color-text-warning)
		),
		success: (
			element: var(--krds-#{$mode}-color-element-success),
			element-lighter: var(--krds-#{$mode}-color-element-success-lighter),
			border-light: var(--krds-#{$mode}-color-border-success-light),
			text: var(--krds-#{$mode}-color-text-success)
		),
		information: (
			element: var(--krds-#{$mode}-color-element-information),
			element-lighter: var(--krds-#{$mode}-color-element-information-lighter),
			border-light: var(--krds-#{$mode}-color-border-information-light),
			text: var(--krds-#{$mode}-color-text-information)
		),
		disabled: (
			element: var(--krds-#{$mode}-color-element-disabled-dark),
			element-lighter: var(--krds-#{$mode}-color-element-disabled-light),
			border-light: var(--krds-#{$mode}-color-border-disabled-light),
			text: var(--krds-#{$mode}-color-text-disabled-on)
		)
	) !default;

	//css variable 생성
	@each $color, $types in $badge-color-variable {
		@each $type, $value in $types {
			--krds-badge--color-#{"#{$color}"}-#{$type}: #{$value};
		}
	}
	--krds-badge--color-background-basic: var(--krds-#{$mode}-color-background-white);
	--krds-badge--color-text-basic: var(--krds-#{$mode}-color-text-inverse-static);

	//class 정의
	& {
		@each $color, $types in $badge-color-variable {
			&.outline-#{"#{$color}"} {
				@include color-border(#{$color});
				@include color-text(#{$color});
			}

			&.bg-#{"#{$color}"} {
				@include color-background(#{$color});
				color: var(--krds-badge--color-text-basic);
			}

			&.bg-light-#{"#{$color}"} {
				@include color-background-light(#{$color});
				@include color-border-light(#{$color});
				@include color-text(#{$color});
			}
		}
	}
}

//badge color border
@mixin color-border($color, $mode: light) {
	@include border-size-mode(#{$mode});
	border-style: solid;

	@if ($color == "primary") {
		border-color: var(--krds-badge--color-primary-element);
	} @else {
		border-color: var(--krds-badge--#{$mode}-color-#{$color}-element);
	}
}

//badge color border light
@mixin color-border-light($color, $mode: light) {
	@include border-size-mode(#{$mode});
	border-style: solid;

	@if ($color == "primary") {
		border-color: var(--krds-badge--color-primary-border-light);
	} @else {
		border-color: var(--krds-badge--color-#{$color}-border-light);
	}
}

//badge color text
@mixin color-text($color) {
	color: var(--krds-badge--color-#{$color}-text);
}

//badge color background
@mixin color-background($color) {
	background-color: var(--krds-badge--color-#{$color}-element);
}

//badge color background light
@mixin color-background-light($color) {
	background-color: var(--krds-badge--color-#{$color}-element-lighter);
}

//모드 설정
$mode-setting: light;
.krds-badge {
	@include flex-layout($d: inline-flex, $ai: center, $jc: center);

	@include badge-size-variable();
	// @include badge-color-variable(#{$mode-setting});

	& {
		height: var(--krds-badge--size-height);
		line-height: var(--krds-badge--line-height);
		font-size: var(--krds-badge--pc-font-size);
		font-weight: var(--krds-font-weight-regular);
		padding: 0 var(--krds-badge--padding);
		border-radius: var(--krds-badge--radius);
		min-width: 67px;

		@include media-breakpoint-down(md) {
			font-size: var(--krds-mobile-font-size-label-xsmall);
		}
	}

	&.large {
		height: var(--krds-badge--size-height-large);
		font-size: var(--krds-badge--pc-font-size-large);
		@include media-breakpoint-down(md) {
			font-size: var(--krds-badge--mobile-font-size);
		}
	}
	&.number {
		height: var(--krds-badge--number-size-height);
		border-radius: var(--krds-badge--radius-max);
	}
	&.dot {
		@include square(var(--krds-badge--dot-size));
		padding: var(--krds-badge--dot-padding);
		border-radius: var(--krds-badge--radius-max);
	}

	&.type02 {
		min-width: 40px;
		min-height: 24px;
		padding: 0 8.5px;
		border: none;
		color: #fff;

		&.bg-fill-info {
			background-color: var(--krds-color-light-information-50);
		}
		&.bg-fill-primary {
			background-color: var(--krds-color-high-contrast-primary-50);
		}
		&.bg-fill-point {
			background-color: var(--krds-color-high-contrast-point-50);
		}
		&.bg-fill-gray {
			background-color: var(--krds-mode-color-light-gray-50);
		}
		&.bg-fill-success {
			background-color: var(--krds-mode-color-light-success-50);
		}
	}
}
.krds-badge-wrap {
	--krds-badge--wrap-gap: var(--krds-gap-3);

	display: flex;
	gap: var(--krds-badge--wrap-gap);
}

//고대비모드
@include color-mode($mode: high-contrast) {
	//모드 설정
	// $mode-setting: high-contrast;
	// .krds-badge {
	// 	@include badge-color-variable(#{$mode-setting});
	// }
}
