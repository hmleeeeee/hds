/* 브레드크럼 */
//모드 설정
$mode-setting: light;

//사이즈 정의
@mixin breadcrumb-size-variable() {
	--krds-breadcrumb--padding-x: 1.2rem;
	--krds-breadcrumb--margin-bottom: var(--krds-pc-gap-layout-breadcrumb-h1);
	--krds-pc-gap-layout-breadcrumb-h2: 12px;
	--krds-pc-gap-layout-header-breadcrumb: 12px;

	--krds-breadcrumb--radius: var(--krds-radius-medium2);
	--krds-breadcrumb--pc-font-size: 1.2rem;
	--krds-breadcrumb--mobile-font-size: var(--krds-mobile-font-size-label-small);
}

//컬러 정의
@mixin breadcrumb-color-variable($mode: light) {
	--krds-breadcrumb--color-action: var(--krds-#{$mode}-color-action-secondary);
	--krds-breadcrumb--color-action-hover: var(--krds-#{$mode}-color-action-secondary-hover);
	--krds-breadcrumb--color-action-pressed: var(--krds-#{$mode}-color-action-secondary-pressed);
	--krds-breadcrumb--color-text: var(--krds-#{$mode}-color-text-basic);
	--krds-breadcrumb--color-text-disabled: var(--krds-#{$mode}-color-text-disabled);
}
.krds-breadcrumb-wrap {
	@include breadcrumb-size-variable();
	// @include breadcrumb-color-variable(#{$mode-setting});

	@include flex-layout($jc: center);
	// min-height: 68px;
	// margin-bottom: var(--krds-breadcrumb--margin-bottom);
	padding: 0 32px;
	padding-top: var(--krds-pc-gap-layout-header-breadcrumb);
	padding-bottom: var(--krds-pc-gap-layout-breadcrumb-h2);
	// background-color: var(--krds-color-light-gray-5);
	.breadcrumb {
		@include flex-layout($ai: center);
		gap: var(--krds-gap-2);
		width: 100%;
		li {
			@include flex-layout($d: inline-flex, $ai: center);
			font-size: var(--krds-breadcrumb--pc-font-size);
			@include media-breakpoint-down(md) {
				font-size: var(--krds-breadcrumb--mobile-font-size);
			}
			.txt {
				@include flex-layout($d: inline-flex, $ai: center);
				gap: var(--krds-gap-2);
				padding: 0;
				// background-color: var(--krds-breadcrumb--color-action);
				border-radius: var(--krds-breadcrumb--radius);
			}
			a {
				&.txt {
					// @include underline();
					// @include text-ellipsis(1);
					&:not(.disabled):hover {
						// background-color: var(--krds-breadcrumb--color-action-hover);
					}
					&:not(.disabled):active {
						// background-color: var(--krds-breadcrumb--color-action-pressed);
					}
					&:not(.disabled):focus,
					&:not(:disabled):focus {
						@include focus();
					}
					&.disabled,
					&:disabled {
						cursor: default;
						// color: var(--krds-breadcrumb--color-text-disabled);
					}
				}
			}
			&:not(:last-child) {
				//마지막 뎁스가 아니면 화살표 아이콘 표시
				&::after {
					flex: 0 0 auto;
					@include flex-layout($d: inline-flex, $ai: center);
					@include pseudo();
					margin-left: var(--krds-gap-2);
					@include svg-icon($size: 10px, $mode: light);
					@include icon-set(ico_angle);
					transform: rotate(-90deg);
				}
			}

			&:last-child {
				a {
					&.txt {
						font-weight: var(--krds-typo-font-weight-bold);
					}
				}
			}
		}
		.home {
			gap: 0;
			.ico-bread-home {
				@include svg-icon($size: var(--krds-icon--size-small), $mode: light);
			}
			// .txt {
			// 	&::before {
			// 		@include flex-layout($d: inline-flex, $ai: center);
			// 		@include pseudo();
			// 		@include svg-icon($size: var(--krds-icon--size-small), $mode: light);
			// 		@include icon-set(ico_bread_home);
			// 	}
			// }
		}
	}

	//모바일 전용 속성
	@include media-breakpoint-down(md) {
		@include flex-layout(flex, center, flex-start);
		min-height: 44px;
		padding: 0.8rem 1.6rem;
		// padding-top: var(--krds-mobile-gap-layout-header-breadcrumb);
		// padding-bottom: var(--krds-mobile-gap-layout-breadcrumb-h2);
		.breadcrumb {
			li {
				//모바일에서는 홈, 마지막 뎁스만 화면에 표시
				&:not(.home) {
					&:not(:last-child) {
						@include sr-only;
					}
				}
				&:not(.home):not(:nth-child(2)) {
					&:last-child {
						gap: var(--krds-gap-2);
						&::before,
						&::after {
							@include flex-layout($d: inline-flex, $ai: center);
							@include pseudo();
							@include svg-icon($size: var(--krds-icon--size-small), $mode: light);
						}
						&::before {
							@include icon-set(ico_ellipsis);
						}
						&::after {
							@include icon-set(ico_angle);
							transform: rotate(-90deg);
						}
						.txt {
							order: 3;
						}
					}
				}
			}
		}
	}
}

//고대비모드
@include color-mode($mode: high-contrast) {
	//모드 설정
	$mode-setting: high-contrast;
	.krds-breadcrumb-wrap {
		// @include breadcrumb-color-variable(#{$mode-setting});

		.breadcrumb {
			li {
				&:not(:last-child) {
					//마지막 뎁스가 아니면 화살표 아이콘 표시
					&::after {
						@include svg-icon($size: var(--krds-icon--size-small), $mode: high-contrast);
					}
				}
			}
			.home {
				gap: 0;
				.txt {
					&::before {
						@include svg-icon($size: var(--krds-icon--size-small), $mode: high-contrast);
					}
				}
			}
		}
	}

	//모바일 전용 속성
	@include media-breakpoint-down(md) {
		.krds-breadcrumb-wrap {
			.breadcrumb {
				li {
					&:not(:nth-child(2)) {
						&:last-child {
							&::before,
							&::after {
								@include svg-icon($size: var(--krds-icon--size-small), $mode: high-contrast);
							}
						}
					}
				}
			}
		}
	}
}

// 즐겨찾기

.btn-favorit {
	@include flex-layout(flex, center, center);
	width: 20px;
	height: 20px;
	margin-left: 8px;
	border-radius: 3.333px;
	background: var(--krds-#{$mode-setting}-color-background-white);

	.svg-icon {
		&.ico-star {
			@include icon-set(ico_star_off, pure);
			@include svg-icon($size: var(--krds-icon--size-medium), $mode: #{$mode-setting});
		}
	}
	&.active {
		.ico-star {
			@include icon-set(ico_star, pure);
			background-color: #ffcc40;
		}
	}

	@include media-breakpoint-down(md) {
		order: 3;
		margin-left: 4px;
	}
}

//고대비모드
@include color-mode($mode: high-contrast) {
	//모드 설정
	$mode-setting: high-contrast;
	.btn-favorit {
		background: var(--krds-#{$mode-setting}-color-background-white);
	}
}
